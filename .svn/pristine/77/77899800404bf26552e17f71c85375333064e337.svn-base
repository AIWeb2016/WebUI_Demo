<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>Document</title>
		<!-- 文档框架样式 -->
		<link rel="stylesheet" type="text/css" href="../../css/base.css" />
		<link rel="stylesheet" type="text/css" href="../../../../webui/1.0.0/pc/css/webui.css">
		<link rel="stylesheet" href="../../css/demoApi.css" />
		<script type="text/javascript" src="../../../lib/jquery/1.11.3/jquery.js"></script>		
		<script type="text/javascript" src="../../js/rainbow.min.js"></script>
		<link rel="stylesheet" href="../../css/prettify.css" />
		<script type="text/javascript" src="../../js/prettify.js"></script>

	</head>

	<body>
		<div class="cont">
			<h1 class="main_title">问题解决</h1>
			<p> 1.格式化时间格式 </p>
			<p>html结构变化</p>
			<pre><code>&lt;input id=&quot;data&quot; class=&quot;webui-datebox&quot; data-options=&quot;formatter:formatdate&quot;/&gt;
</code></pre>
			<p>添加：data-options=&quot;formatter:formatdate&quot;</p>
			<pre><code>//新建函数formatdate
function formatdate(date){
  var y = date.getFullYear();
  var m = date.getMonth()+1;
  var d = date.getDate();
  //自定义时间显示格式
  return  y+'年'+(m&lt;10?('0'+m):m)+'月'+(d&lt;10?('0'+d):d)+'日';
}
</code></pre>

			<p>可以根据自己的需求变更显示格式。</p>
			<p>存在时分秒的情况：</p>
			<pre><code>//新建函数formatdate
function formatdate(date){
  var y = date.getFullYear();
  var m = date.getMonth()+1;
  var d = date.getDate();
  var h = date.getHours();
  var mine = date.getMinutes();
  var s = date.getSeconds();
  return  y+'年'+(m&lt;10?('0'+m):m)+'月'+(d&lt;10?('0'+d):d)+'日'+(h&lt;10?('0'+h):h)+'点'+(mine&lt;10?('0'+mine):mine)+'分'+(s&lt;10?('0'+s):s)+'秒';
}
</code></pre>

			<p>传值setValue格式变更：</p>
			<p>html结构变化</p>
			<pre><code>&lt;input id=&quot;data&quot; class=&quot;webui-datebox&quot; data-options=&quot;formatter:formatdate,parser:format&quot;/&gt;
</code></pre>

			<p>添加：data-options=&quot;parser:format&quot;</p>
			<pre><code>function format(str){
  var reg=/[\u4e00-\u9fa5]/  //利用正则表达式分隔
  var ss = (str.split(reg));
  var y = parseInt(ss[0],10);
  var m = parseInt(ss[1],10);
  var d = parseInt(ss[2],10);
  if (!isNaN(y) &amp;&amp; !isNaN(m) &amp;&amp; !isNaN(d) &amp;&amp; !isNaN(h)){
    return new Date(y,m-1,d);
  } else {
    return new Date();
  }
}
</code></pre>

		</div>

		<script type="text/javascript" src="../../../../webui/1.0.0/pc/js/webui.js"></script>
	</body>

</html>